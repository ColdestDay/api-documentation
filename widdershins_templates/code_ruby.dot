require 'rest-client'
require 'json'

{{? data.allHeaders.length}}headers = {
{{~data.allHeaders :p:index}}  '{{=p.name}}': {{=p.exampleValues.json}}{{? index < data.allHeaders.length-1}},{{?}}
{{~}}}{{?}}{{? data.bodyParameter.present}}

params = '{{=data.bodyParameter.exampleValues.json}}'{{?}}

result = RestClient.{{=data.method.verb}} '{{=data.url}}'{{? data.bodyParameter.present}}, params{{?? data.method.verb === 'delete'}}{{??}}, {}{{?}}, headers

p JSON.parse(result)
